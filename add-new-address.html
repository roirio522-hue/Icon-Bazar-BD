<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Address | Icon Bazar BD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap');
        body { font-family: 'Hind Siliguri', sans-serif; background-color: #f7f7f7; }
        input:focus, select:focus { border-color: #2563eb !important; outline: none; }
    </style>
</head>
<body class="pb-24">

    <div class="bg-white p-4 shadow-sm flex items-center gap-4 sticky top-0 z-50">
        <a href="address.html" class="text-gray-600 text-xl"><i class="fas fa-arrow-left"></i></a>
        <h1 class="text-lg font-bold">নতুন ঠিকানা যোগ করুন</h1>
    </div>

    <div class="container mx-auto p-4 max-w-md">
        <form id="address-form" class="space-y-4">
            <div class="bg-white p-5 rounded-xl shadow-sm space-y-4">
                <h3 class="font-bold text-gray-700 border-b pb-2 mb-3">যোগাযোগের তথ্য</h3>
                <input type="text" id="fullname" placeholder="পুরো নাম" class="w-full border p-3 rounded-lg text-sm" required>
                <input type="tel" id="mobile" placeholder="মোবাইল নম্বর" class="w-full border p-3 rounded-lg text-sm" required>
            </div>

            <div class="bg-white p-5 rounded-xl shadow-sm space-y-4">
                <h3 class="font-bold text-gray-700 border-b pb-2 mb-3">ঠিকানা</h3>
                
                <select id="division" onchange="loadDistricts()" class="w-full border p-3 rounded-lg text-sm bg-white" required>
                    <option value="">বিভাগ সিলেক্ট করুন</option>
                </select>

                <select id="district" onchange="loadUpazilas()" class="w-full border p-3 rounded-lg text-sm bg-white" disabled required>
                    <option value="">জেলা সিলেক্ট করুন</option>
                </select>

                <select id="upazila" class="w-full border p-3 rounded-lg text-sm bg-white" disabled required>
                    <option value="">উপজেলা সিলেক্ট করুন</option>
                </select>

                <input type="text" id="area" placeholder="বাড়ি নং, রোড নং বা এলাকার নাম" class="w-full border p-3 rounded-lg text-sm" required>
            </div>

            <div class="bg-white p-5 rounded-xl shadow-sm">
                <h3 class="font-bold text-gray-700 mb-3 text-sm">ঠিকানার ধরণ</h3>
                <div class="flex gap-4">
                    <label class="flex-1 border p-3 rounded-lg cursor-pointer text-center has-[:checked]:bg-blue-50 has-[:checked]:border-blue-500 transition-all">
                        <input type="radio" name="label" value="Home" class="hidden" checked>
                        <i class="fas fa-home text-blue-500 block mb-1"></i> <span class="text-xs font-bold">বাসা</span>
                    </label>
                    <label class="flex-1 border p-3 rounded-lg cursor-pointer text-center has-[:checked]:bg-blue-50 has-[:checked]:border-blue-500 transition-all">
                        <input type="radio" name="label" value="Office" class="hidden">
                        <i class="fas fa-briefcase text-blue-500 block mb-1"></i> <span class="text-xs font-bold">অফিস</span>
                    </label>
                </div>
            </div>

            <button type="submit" class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold uppercase shadow-lg fixed bottom-0 left-0 rounded-none md:relative md:rounded-xl z-50">
                ঠিকানা সংরক্ষণ করুন
            </button>
        </form>
    </div>

    <script>
        // বাংলাদেশের সকল জেলা ও উপজেলার ডাটাবেজ
        const bdData = {
            "ঢাকা": {
                "ঢাকা": ["ধানমন্ডি", "গুলশান", "মিরপুর", "উত্তরা", "সাভার", "কেরানীগঞ্জ", "ধামরাই", "দোহার", "নবাবগঞ্জ", "খিলগাঁও", "মতিঝিল", "শাহবাগ", "পল্টন", "তেজগাঁও", "রামপুরা", "বাড্ডা", "বনানী", "মোহাম্মদপুর", "যাত্রাবাড়ী", "ডেমরা"],
                "গাজীপুর": ["গাজীপুর সদর", "কালিয়াকৈর", "কালীগঞ্জ", "কাপাসিয়া", "শ্রীপুর"],
                "নারায়ণগঞ্জ": ["নারায়ণগঞ্জ সদর", "বন্দর", "আড়াইহাজার", "রূপগঞ্জ", "সোনারগাঁও"],
                "নরসিংদী": ["নরসিংদী সদর", "বেলাবো", "মনোহরদী", "পলাশ", "রায়পুরা", "শিবপুর"],
                "মানিকগঞ্জ": ["মানিকগঞ্জ সদর", "সিংগাইর", "শিবালয়", "সাটুরিয়া", "হরিরামপুর", "ঘিওর", "দৌলতপুর"],
                "মুন্সীগঞ্জ": ["মুন্সীগঞ্জ সদর", "লৌহজং", "গজারিয়া", "টঙ্গীবাড়ী", "সিরাজদিখান", "শ্রীনগর"],
                "ফরিদপুর": ["ফরিদপুর সদর", "আলফাডাঙ্গা", "ভাঙ্গা", "বোয়ালমারী", "চরভদ্রাসন", "মধুখালী", "নগরকান্দা", "সদরপুর", "সালথা"],
                "মাদারীপুর": ["মাদারীপুর সদর", "শিবচর", "কালকিনি", "রাজৈর"],
                "গোপালগঞ্জ": ["গোপালগঞ্জ সদর", "কাশিয়ানী", "কোটালীপাড়া", "মুকসুদপুর", "টুঙ্গিপাড়া"],
                "রাজবাড়ী": ["রাজবাড়ী সদর", "গোয়ালন্দ", "পাংশা", "বালিয়াকান্দি", "কালুখালী"],
                "শরীয়তপুর": ["শরীয়তপুর সদর", "ডামুড্যা", "জাজিরা", "নড়িয়া", "ভেদরগঞ্জ", "গোসাইরহাট"],
                "কিশোরগঞ্জ": ["কিশোরগঞ্জ সদর", "বাজিতপুর", "ভৈরব", "হোসেনপুর", "ইটনা", "করিমগঞ্জ", "কটিয়াদী", "কুলিয়ারচর", "মিঠামইন", "নিকলী", "অষ্টগ্রাম", "পাকুন্দিয়া", "তাড়াইল"],
                "টাঙ্গাইল": ["টাঙ্গাইল সদর", "বাসাইল", "ভূঞাপুর", "দেলদুয়ার", "ঘাটাইল", "গোপালপুর", "কালিহাতী", "মধুপুর", "মির্জাপুর", "নাগরপুর", "সখিপুর", "ধনবাড়ী"]
            },
            "চট্টগ্রাম": {
                "চট্টগ্রাম": ["কোতোয়ালী", "পাঁচলাইশ", "পাহাড়তলী", "ডবলমুরিং", "বন্দর", "হাটহাজারী", "পটিয়া", "রাউজান", "রাঙ্গুনিয়া", "সীতাকুণ্ড", "মিরসরাই", "বাঁশখালী", "বোয়ালখালী", "আনোয়ারা", "সন্দীপ", "ফটিকছড়ি", "লোহাগাড়া", "চন্দনাইশ"],
                "কক্সবাজার": ["কক্সবাজার সদর", "চকরিয়া", "মহেশখালী", "টেকনাফ", "উখিয়া", "রামু", "পেকুয়া", "কুতুবদিয়া"],
                "কুমিল্লা": ["কুমিল্লা সদর", "লাকসাম", "দেবিদ্বার", "দাউদকান্দি", "চান্দিনা", "বরুড়া", "বুড়িচং", "ব্রাহ্মণপাড়া", "হোমনা", "লাঙ্গলকোট", "মুরাদনগর", "মেঘনা", "তিতাস", "মনোহরগঞ্জ", "সদর দক্ষিণ"],
                "ব্রাহ্মণবাড়িয়া": ["সদর", "কসবা", "নাসিরনগর", "সরাইল", "আশুগঞ্জ", "আখাউড়া", "বাঞ্ছারামপুর", "নবীনগর", "বিজয়নগর"],
                "নোয়াখালী": ["নোয়াখালী সদর", "বেগমগঞ্জ", "চাটখিল", "কোম্পানীগঞ্জ", "হাতিয়া", "সেনবাগ", "সোনাইমুড়ী", "সুবর্ণচর", "কবিরহাট"],
                "ফেনী": ["ফেনী সদর", "দাগনভূঞা", "ছাগলনাইয়া", "সোনাগাজী", "পরশুরাম", "ফুলগাজী"],
                "চাঁদপুর": ["চাঁদপুর সদর", "হাইমচর", "কচুয়া", "মতলব উত্তর", "মতলব দক্ষিণ", "ফরিদগঞ্জ", "হাজীগঞ্জ", "শাহরাস্তি"],
                "লক্ষ্মীপুর": ["লক্ষ্মীপুর সদর", "রায়পুর", "রামগঞ্জ", "রামগতি", "কমলনগর"],
                "রাঙ্গামাটি": ["সদর", "কাপ্তাই", "কাউখালী", "বাঘাইছড়ি", "বরকল", "জুড়াছড়ি", "লংগদু", "নানিয়ারচর", "রাজস্থলী", "বিলাইছড়ি"],
                "খাগড়াছড়ি": ["সদর", "দীঘিনালা", "পানছড়ি", "মাটিরাঙ্গা", "মহালছড়ি", "মানিকছড়ি", "রামগড়", "লক্ষ্মীছড়ি"],
                "বান্দরবান": ["সদর", "থানচি", "রুমা", "রোয়াংছড়ি", "লামা", "আলীকদম", "নাইক্ষ্যংছড়ি"]
            },
            "খুলনা": {
                "খুলনা": ["সদর", "বটিয়াঘাটা", "দাকোপ", "ডুমুরিয়া", "দিঘলিয়া", "কয়রা", "パイকগাছা", "ফুলতলা", "তেরখাদা"],
                "যশোর": ["যশোর সদর", "অভয়নগর", "বাঘেরপাড়া", "চৌগাছা", "ঝিকরগাছা", "কেশবপুর", "মণিরামপুর", "শার্শা"],
                "ঝিনাইদহ": ["ঝিনাইদহ সদর", "কোটচাঁদপুর", "মহেশপুর", "শৈলকুপা", "কালীগঞ্জ", "হরিণাকুণ্ডু"],
                "কুষ্টিয়া": ["কুষ্টিয়া সদর", "ভেড়ামারা", "কুমারখালী", "মিরপুর", "খোকসা", "দৌলতপুর"],
                "মাগুরা": ["মাগুরা সদর", "মহম্মদপুর", "শালিখা", "শ্রীপুর"],
                "মেহেরপুর": ["মেহেরপুর সদর", "গাংনী", "মুজিবনগর"],
                "বাগেরহাট": ["বাগেরহাট সদর", "চিতলমারী", "ফকিরহাট", "কচুয়া", "মোল্লাহাট", "মোংলা", "মোড়েলগঞ্জ", "রামপাল", "শরণখোলা"],
                "সাতক্ষীরা": ["সাতক্ষীরা সদর", "আশাশুনি", "দেবহাটা", "কলারোয়া", "কালিগঞ্জ", "শ্যামনগর", "তালা"],
                "চুয়াডাঙ্গা": ["চুয়াডাঙ্গা সদর", "আলমডাঙ্গা", "দামুড়হুদা", "জীবননগর"],
                "নড়াইল": ["নড়াইল সদর", "লোহাগড়া", "কালিয়া"]
            },
            "রাজশাহী": {
                "রাজশাহী": ["বোয়ালিয়া", "মতিহার", "পবা", "রাজপাড়া", "শাহ মখদুম", "বাঘা", "বাগমারা", "চারঘাট", "দুর্গাপুর", "গোদাগাড়ী", "মোহনপুর", "তানোর"],
                "বগুড়া": ["বগুড়া সদর", "শেরপুর", "শিবগঞ্জ", "আদমদীঘি", "ধুনট", "গাবতলী", "কাহালু", "নন্দীগ্রাম", "সারিয়াকান্দি", "শাজাহানপুর", "সোনাতলা"],
                "পাবনা": ["পাবনা সদর", "ঈশ্বরদী", "চাটমোহর", "বেড়া", "আটঘরিয়া", "ফরিদপুর", "সাঁথিয়া", "সুজানগর", "ভাঙ্গুড়া"],
                "সিরাজগঞ্জ": ["সিরাজগঞ্জ সদর", "বেলকুচি", "চৌহালী", "কামারখন্দ", "কাজীপুর", "রায়গঞ্জ", "শাহজাদপুর", "তাড়াশ", "উল্লাপাড়া"],
                "নওগাঁ": ["নওগাঁ সদর", "আত্রাই", "বদলগাছী", "ধামইরহাট", "মহাদেবপুর", "মান্দা", "নিয়ামতপুর", "পত্নীতলা", "পোরশা", "রানীনগর", "সপাহার"],
                "নাটোর": ["নাটোর সদর", "বাগাতিপাড়া", "বড়াইগ্রাম", "লালপুর", "সিংড়া", "গুরুদাসপুর", "নলডাঙ্গা"],
                "চাঁপাইনবাবগঞ্জ": ["চাঁপাইনবাবগঞ্জ সদর", "গোমস্তাপুর", "নাচোল", "ভোলাহাট", "শিবগঞ্জ"],
                "জয়পুরহাট": ["জয়পুরহাট সদর", "আক্কেলপুর", "কালাই", "ক্ষেতলাল", "পাঁচবিবি"]
            },
            "রংপুর": {
                "রংপুর": ["রংপুর সদর", "বদরগঞ্জ", "গঙ্গাচড়া", "কাউনিয়া", "মিঠাপুকুর", "পীরগাছা", "পীরগঞ্জ", "তারাগঞ্জ"],
                "দিনাজপুর": ["দিনাজপুর সদর", "বিরামপুর", "বীরগঞ্জ", "বোচাগঞ্জ", "ফুলবাড়ী", "ঘোড়াঘাট", "হাকিমপুর", "কাহারোল", "খানসামা", "নবাবগঞ্জ", "পার্বতীপুর", "চিরিরবন্দর", "বিরল"],
                "কুড়িগ্রাম": ["কুড়িগ্রাম সদর", "উলিপুর", "চিলমারী", "রৌমারী", "নাগেশ্বরী", "ভুরুঙ্গামারী", "ফুলবাড়ী", "রাজারহাট", "রাজিবপুর"],
                "গাইবান্ধা": ["গাইবান্ধা সদর", "গোবিন্দগঞ্জ", "পলাশবাড়ী", "সাদুল্লাপুর", "সাঘাটা", "সুন্দরগঞ্জ", "ফুলছড়ি"],
                "নীলফামারী": ["নীলফামারী সদর", "সৈয়দপুর", "জলঢাকা", "কিশোরগঞ্জ", "ডোমার", "ডিমলা"],
                "ঠাকুরগাঁও": ["ঠাকুরগাঁও সদর", "বালিয়াডাঙ্গী", "পীরগঞ্জ", "রানীশংকৈল", "হরিপুর"],
                "পঞ্চগড়": ["পঞ্চগড় সদর", "আটোয়ারী", "বোদা", "দেবীগঞ্জ", "তেঁতুলিয়া"],
                "লালমনিরহাট": ["লালমনিরহাট সদর", "আদিতমারী", "কালীগঞ্জ", "হাতীবান্ধা", "পাটগ্রাম"]
            },
            "বরিশাল": {
                "বরিশাল": ["বরিশাল সদর", "বাকেরগঞ্জ", "বাবুগঞ্জ", "বানারীপাড়া", "গৌরনদী", "হিজলা", "মেহেন্দিগঞ্জ", "মুলাদী", "উজিরপুর", "আগৈলঝাড়া"],
                "পটুয়াখালী": ["পটুয়াখালী সদর", "বাউফল", "দশমিনা", "গলাচিপা", "কলাপাড়া", "মির্জাগঞ্জ", "দুমকি", "রাঙ্গাবালী"],
                "ভোলা": ["ভোলা সদর", "বুরহানউদ্দিন", "চরফ্যাশন", "দৌলতখান", "লালমোহন", "মনপুরা", "তজুমদ্দিন"],
                "পিরোজপুর": ["পিরোজপুর সদর", "ভাণ্ডারিয়া", "কাউখালী", "মঠবাড়িয়া", "নাজিরপুর", "ネছারাবাদ", "ইন্দুরকানী"],
                "বরগুনা": ["বরগুনা সদর", "আমতলী", "বামনা", "বেতাগী", "পাথরঘাটা", "তালতলী"],
                "ঝালকাঠি": ["ঝালকাঠি সদর", "কাঠালিয়া", "নলছিটি", "রাজাপুর"]
            },
            "সিলেট": {
                "সিলেট": ["সিলেট সদর", "বিয়ানীবাজার", "বিশ্বনাথ", "ফেঞ্চুগঞ্জ", "গোলাপগঞ্জ", "গোয়াইনঘাট", "জৈন্তাপুর", "কানাইঘাট", "বালাগঞ্জ", "কোম্পানীগঞ্জ", "দক্ষিণ সুরমা", "জকিগঞ্জ", "ওসমানীনগর"],
                "সুনামগঞ্জ": ["সুনামগঞ্জ সদর", "ছাতক", "দোয়ারাবাজার", "দিরাই", "ধর্মপাশা", "জগন্নাথপুর", "জামালগঞ্জ", "তাহিরপুর", "শাল্লা", "বিশ্বম্ভরপুর", "দক্ষিণ সুনামগঞ্জ"],
                "হবিগঞ্জ": ["হবিগঞ্জ সদর", "আজমিরীগঞ্জ", "বাহুবল", "বানিয়াচং", "চুনারুঘাট", "নবীগঞ্জ", "মাধবপুর", "লাখাই", "শায়েস্তাগঞ্জ"],
                "মৌলভীবাজার": ["মৌলভীবাজার সদর", "বড়লেখা", "কমলগঞ্জ", "কুলাউড়া", "রাজনগর", "শ্রীমঙ্গল", "জুড়ী"]
            },
            "ময়মনসিংহ": {
                "ময়মনসিংহ": ["ময়মনসিংহ সদর", "মুক্তাগাছা", "ফুলবাড়িয়া", "ত্রিশাল", "ভালুকা", "গফরগাঁও", "ঈশ্বরগঞ্জ", "নান্দাইল", "গৌরীপুর", "ফুলপুর", "তারাকান্দা", "হালুয়াঘাট", "ধোবাউড়া"],
                "জামালপুর": ["জামালপুর সদর", "বক্সীগঞ্জ", "দেওয়ানগঞ্জ", "ইসলামপুর", "মাদারগঞ্জ", "মেলান্দহ", "সরিষাবাড়ী"],
                "নেত্রকোণা": ["নেত্রকোণা সদর", "বারহাট্টা", "দুর্গাপুর", "খালিয়াজুরী", "কলমাকান্দা", "কেন্দুয়া", "মদন", "মোহনগঞ্জ", "পূর্বধলা", "আটপাড়া"],
                "শেরপুর": ["শেরপুর সদর", "নালিতাবাড়ী", "শ্রীবরদী", "নকলা", "ঝিনাইগাতী"]
            }
        };

        const divSelect = document.getElementById('division');
        const distSelect = document.getElementById('district');
        const upaSelect = document.getElementById('upazila');

        // পেজ লোড হলে বিভাগগুলো সাজানো
        Object.keys(bdData).sort().forEach(div => {
            divSelect.innerHTML += `<option value="${div}">${div}</option>`;
        });

        function loadDistricts() {
            const div = divSelect.value;
            distSelect.innerHTML = '<option value="">জেলা সিলেক্ট করুন</option>';
            upaSelect.innerHTML = '<option value="">উপজেলা সিলেক্ট করুন</option>';
            upaSelect.disabled = true;

            if (div) {
                distSelect.disabled = false;
                Object.keys(bdData[div]).sort().forEach(dist => {
                    distSelect.innerHTML += `<option value="${dist}">${dist}</option>`;
                });
            } else {
                distSelect.disabled = true;
            }
        }

        function loadUpazilas() {
            const div = divSelect.value;
            const dist = distSelect.value;
            upaSelect.innerHTML = '<option value="">উপজেলা সিলেক্ট করুন</option>';

            if (dist) {
                upaSelect.disabled = false;
                bdData[div][dist].sort().forEach(upa => {
                    upaSelect.innerHTML += `<option value="${upa}">${upa}</option>`;
                });
            } else {
                upaSelect.disabled = true;
            }
        }

        document.getElementById('address-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newAddress = {
                id: Date.now(), // ইউনিক আইডি
                name: document.getElementById('fullname').value,
                phone: document.getElementById('mobile').value,
                division: divSelect.value,
                district: distSelect.value,
                upazila: upaSelect.value,
                detail: document.getElementById('area').value,
                label: document.querySelector('input[name="label"]:checked').value
            };

            let addresses = JSON.parse(localStorage.getItem('userAddresses')) || [];
            addresses.push(newAddress);
            localStorage.setItem('userAddresses', JSON.stringify(addresses));

            alert("ঠিকানা সফলভাবে সেভ হয়েছে!");
            window.location.href = "address.html";
        });
    </script>
</body>
</html>
